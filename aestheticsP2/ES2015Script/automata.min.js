"use strict";function isEven(t){return t%2==0}function randomIntFromInterval(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function getRandom(t,e){return Math.floor(Math.random()*(e-t+1))+t}var reverb=new Tone.JCReverb(.4).connect(Tone.Master),delay=new Tone.FeedbackDelay(.5),samp="A.",count=0, rand=0, sampler=new Tone.Sampler({A:{1:"https://dl.dropboxusercontent.com/s/qqwjw60g4hwryq5/a5.mp3?dl=1",2:"https://dl.dropboxusercontent.com/s/b8u195xvo5jtbco/f5.mp3?dl=1",3:"https://dl.dropboxusercontent.com/s/fy6nptfr4fda38k/fS5.mp3?dl=1",4:"https://dl.dropboxusercontent.com/s/xll3acs9t3gt4bu/gS5.mp3?dl=1"}}).toMaster();Tone.Buffer.onload=function(){setInterval(function(){isEven(count)?rand=String(randomIntFromInterval(0,3)):rand=String(randomIntFromInterval(1,4)),sampler.triggerAttack(samp.concat(rand),26)},27e3)};var oceanFloor=new terra.Terrarium(129,70,{id:"oFloor",trails:1,periodic:!0,background:[17,17,17,2]});terra.registerCreature({type:"water",color:[17,17,17],size:10,initialEnergy:5,maxEnergy:20,wait:function(){this.energy+=2,count=this.energy},move:!1,reproduceLv:.65}),terra.registerCreature({type:"plankton",color:[0,255,255],maxEnergy:50,initialEnergy:10,size:20}),terra.registerCreature({type:"PlanktonMB",color:[0,255,153],maxEnergy:50,initialEnergy:10,size:20}),terra.registerCreature({type:"planktonLB",initialEnergy:20,reproduceLv:.8,sustainability:3,color:[255,102,255]}),oceanFloor.grid=oceanFloor.makeGridWithDistribution([["water",50],["plankton",1],["planktonLB",6],["PlanktonMB",2]]),oceanFloor.animate();var canvas=document.getElementById("oFloor"),style=canvas.style;style.marginLeft="auto",style.marginRight="auto";var parentStyle=canvas.parentElement.style;parentStyle.textAlign="center",parentStyle.width="100%";for(var stars=200,context=canvas.getContext("2d"),colorrange=[0,60,240],i=0;stars>i;i++){var x=Math.random()*canvas.offsetWidth,y=Math.random()*canvas.offsetHeight,radius=1.2*Math.random(),hue=colorrange[getRandom(0,colorrange.length-1)],sat=getRandom(50,100);context.beginPath(),context.arc(x,y,radius,0,360),context.fillStyle="hsl("+hue+", "+sat+"%, 88%)",context.fill()}